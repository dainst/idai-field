@use 'sass:color';

@use './browse/configuration-category';
@use './browse/configuration-field';
@use './browse/configuration-field-drag-element';
@use './browse/hierarchical-relations-info';
@use './editor/configuration-editor-modal';
@use './editor/field/field-editor-modal';
@use './editor/field/subfield-editor-modal';
@use './editor/field/widgets/input-type-selector';
@use './editor/field/widgets/valuelist-selector';
@use './editor/field/widgets/subfields-section';
@use './editor/category/category-editor-modal';
@use './editor/valuelist/valuelist-editor-modal';
@use './editor/valuelist/value-editor-modal';
@use './editor/widgets/multi-language-input';
@use './editor/widgets/references-input';
@use './delete/delete-modal';
@use './add/listing';
@use './add/preview';
@use './add/category/add-category-modal';
@use './add/category/swap-category-form-modal';
@use './add/category/category-listing';
@use './add/category/category-preview';
@use './add/field/add-field-modal';
@use './add/field/field-listing';
@use './add/field/field-preview';
@use './add/group/add-group-modal';
@use './add/group/group-listing';
@use './add/valuelist/add-valuelist-modal';
@use './add/valuelist/manage-valuelists-modal';
@use './add/valuelist/valuelist-listing';
@use './add/valuelist/valuelist-preview';
@use './add/valuelist/valuelist-search-bar';
@use './add/valuelist/extend-valuelist-modal';
@use './widgets/valuelist-view';
@use './notifications/configuration-change-notification-modal';
@use './conflicts/configuration-conflicts-modal';
@use './import/import-configuration-modal';
@use './save/save-modal';
@use '../variables' as *;

#configuration-loading-icon-container {
  width: 100%;
  height: calc(100vh - 45px);

  .spinner {
    position: absolute;
    top: calc(50% - 45px);
    left: calc(50% - 20px);
  }
}


.project-configuration {
  &.dragging {
    cursor: grabbing !important;

    .mdi-drag {
      cursor: grabbing !important;
    }
  }

  .mdi-drag {
    font-size: 18px;
  }

  #project-configuration-content {
    font-size: 15px;

    &.no-selected-category {
      background-color: white;
    }
  }

  code {
    font-size: 14px;
  }

  #configuration-toolbar {
    height: $toolbar-height;

    #categories-filter {
      position: relative;
      top: 5px;
      left: 6px;
      width: 500px;
      padding-left: 0;
      padding-right: 0;

      #categories-filter-button {
        position: relative;
        top: 1px;
      }

      .categories-filter-selection-button {
        max-width: 50vw;
        overflow: hidden;
        text-overflow: ellipsis;
        cursor: default;
      }

      #categories-filter-selection-menu {
        padding: 0;

        #categories-filter-selection-buttons {
          max-height: calc(100vh - 350px);
          overflow-y: auto;

          button:first-child {
            margin-top: 7px;
          }

          button:last-child {
            margin-bottom: 7px;
          }
        }
      }
    }

    #save-button {
      position: relative;
      top: 6px;
      left: 6px;
      float: right;
    }
  }

  .sidebar {
    height: calc(100vh - #{$navbar-height + $toolbar-height});
    padding: 0;
    margin: 0;
    background-color: $sidebar-bg-color;

    #category-picker-container {
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;

      category-picker {
        .category-picker.dragging {
          .list-group-item:not(.selected-category) .category-item:hover {
            background-color: #fff !important;
          }

          .custom-category:not(.selected-category) {
            .category-item:hover {
              background-color: $custom-highlight-color !important;
            }
          }
        }
        .category-picker:not(.dragging) {
          .category-item:hover {
            background-color: $list-item-hover-color !important;
            transition: background-color .5s ease;
          }

          .custom-category {
            .category-item:hover {
              background-color: color.adjust($custom-highlight-color, $lightness: -5%) !important;
            }
          }
        }

        .category-item {
          transition: background-color .25s ease;
        }

        .selected-category .category-item {
          background-color: $list-item-hover-color !important;
          transition: background-color .5s ease;
        }

        .custom-category {
          &.selected-category .category-item {
            background-color: color.adjust($custom-highlight-color, $lightness: -5%) !important;
          }
        }

        .list-group-item {
          height: 45px;
          border-top: 1px solid #f8f9fa !important;

          .category-label {
            position: relative;
            bottom: 1px;
          }
        }
      }
    }

    #add-supercategory-button {
      position: absolute;
      bottom: 3px;
      padding-top: 2px;
      transform: translate(-20px, 0);
      left: 50%;
      z-index: 1001;
    }
  }
}
