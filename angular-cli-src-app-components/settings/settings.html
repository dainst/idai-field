<div class="settings row" (dragover)="false" (dragleave)="false" (drop)="false">

    <div class="col">
        <div class="row">
            <div class="col default-nav bg-light text-right">
                <button id="save-settings-button" class="btn btn-primary"
                        [ngClass]="{ 'disabled': saving }"
                        (click)="saving || save()">
                    <span class="mdi mdi-settings"></span>
                    <span class="button-label" i18n="@@settings.applySettings">Einstellungen übernehmen</span>
                </button>
            </div>
        </div>

        <div class="row">
            <div class="form-group col default-container">
                <div class="col-lg-6 mx-lg-auto py-4">
                    <h5 i18n="@@settings.general">Allgemeine Einstellungen</h5>

                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="control-label col-form-label"
                               for="language-select"
                               i18n="@@settings.general.language">
                            Sprache
                        </label>
                        <select id="language-select"
                               [ngModel]="settings.locale"
                               (ngModelChange)="settings.locale = $event"
                               class="form-control">
                            <option value="de">Deutsch</option>
                            <option value="en">English</option>
                        </select>
                    </div>

                    <div class="form-group" style="margin-bottom: 0;">

                        <label class="control-label col-form-label"
                               for="username-input"
                               i18n="@@settings.userName">
                            Name des Bearbeiters/der Bearbeiterin
                        </label>
                        <input id="username-input"
                               [ngModel]="settings.username"
                               (ngModelChange)="settings.username = $event"
                               class="form-control">
                    </div>

                    <div class="settings-info" i18n="@@settings.userName.info">
                        Dieser Name wird in der Bearbeitungshistorie gespeichert,
                        damit Änderungen an Datensätzen einer Person zugeordnet werden können.
                        Diese Einstellung ist sehr <b>wichtig</b> bei der Datenbanksynchronisation,
                        sowohl zwischen Nutzern bzw. Nutzerinnen als auch zum iDAI.field-Server, da das System
                        so eventuelle Konflikte besser zuordnen und lösen kann. Sie sollte also in jedem Fall
                        vor Inbetriebnahme gesetzt werden. Empfohlen wird, den vollen Namen des aktuellen
                        Datenbanknutzers bzw. der Datenbanknutzerin einzutragen.
                    </div>

                    <hr>


                    <h5 style="margin-top: 32px;" i18n="@@settings.synchronization">Synchronisation</h5>

                    <div class="row" style="margin: 15px 0 0;">
                        <div class="col-auto mr-auto">
                            <span i18n="@@settings.synchronization.activate">Synchronisation aktivieren</span>
                        </div>
                        <div class="col-auto">
                            <label class="switch" style="margin-bottom: 0;">
                                <input type="checkbox" [checked]="settings.isSyncActive"
                                       (change)="toggleSync()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">

                        <label for="sync-target-address-input"
                               class="control-label col-form-label"
                               i18n="@@settings.synchronization.address">Adresse</label>
                        <input id="sync-target-address-input" [ngModel]="settings.syncTarget.address"
                               (ngModelChange)="settings.syncTarget.address = $event"
                               class="form-control">

                        <label for="sync-target-password-input"
                               class="control-label col-form-label"
                               i18n="@@settings.synchronization.password">Passwort</label>
                        <input id="sync-target-password-input"
                               type="password"
                               [ngModel]="settings.syncTarget.password"
                               (ngModelChange)="settings.syncTarget.password = $event"
                               class="form-control">
                    </div>

                    <div class="form-group">

                        <label class="control-label col-form-label" i18n="@@settings.synchronization.ownAddress">Eigene Adresse</label>
                        <pre><code>http://{{ipAddress}}:3000</code></pre>

                        <label for="sync-target-host-password-input"
                               class="control-label col-form-label"
                               i18n="@@settings.synchronization.hostPassword">Eigenes Passwort</label>
                        <input id="sync-target-host-password-input" [ngModel]="settings.hostPassword"
                               (ngModelChange)="settings.hostPassword = $event"
                               class="form-control">

                        <div class="settings-info" i18n="@@settings.synchronization.info">
                            Diese Adresse und dieses Passwort müssen in anderen iDAI.field-Clients
                            eingetragen werden, damit dieser Computer als Synchronisationsziel
                            eingerichtet werden kann.
                        </div>
                    </div>


                    <hr>

                    <h5 style="margin-top: 32px;" i18n="@@settings.images">Bilder</h5>

                    <div class="form-group" style="margin-bottom: 0;">

                        <label class="control-label col-form-label"
                               for="imagestorepath-input"
                               i18n="@@settings.images.path">
                            Pfad
                        </label>
                        <div class="input-group">
                            <input id="imagestorepath-input"
                                   [ngModel]="settings.imagestorePath"
                                   (ngModelChange)="settings.imagestorePath = $event"
                                   class="form-control">
                            <label for="imagestorepath-input" class="btn btn-secondary file-input-label"
                                   (click)="chooseImagestoreDirectory()">
                                <span class="mdi mdi-folder"></span>
                            </label>
                        </div>

                        <div class="settings-info" i18n="@@settings.images.path.info">
                            Dieser Pfad kann normalerweise auf seiner Grundeinstellung belassen werden. Es kann nötig
                            sein, ihn zu verändern, wenn das von iDAI.field genutzte Bilderverzeichnis auf einem
                            Netzwerk-Gerät (NAS) liegt, das von verschiedenen Nutzern bzw. Nutzerinnen geteilt wird.
                            Die Anwendung legt unterhalb dieses Pfades für jedes Projekt ein Unterverzeichnis an.
                            Die in diesen Verzeichnissen abgelegten Bilddateien werden vollständig durch iDAI.field
                            verwaltet. Bilddateien sollten nicht per Hand dort abgelegt werden, sondern in der
                            Bilderübersicht oder dem Bilder-Tab der Ressourcenansicht importiert werden.
                        </div>
                    </div>


                    <hr>

                    <h5 style="margin-top: 32px;" i18n="@@settings.update">Update</h5>

                    <div class="row" style="margin: 15px 0 0;">
                        <div class="col-auto mr-auto">
                            <span i18n="@@settings.update.activate">Automatische Prüfung auf Updates aktivieren</span>
                        </div>
                        <div class="col-auto">
                            <label class="switch" style="margin-bottom: 0;">
                                <input type="checkbox" [checked]="settings.isAutoUpdateActive"
                                       (change)="toggleAutoUpdate()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
